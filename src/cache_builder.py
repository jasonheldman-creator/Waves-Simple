# Update your cache_builder.py logic here to distinguish between required and optional tickers
# Implement the failure logic for required tickers (exit code 1) and log-only logic for optional tickers
# Update diagnostics JSON structure to include required_total, required_success, required_failed,
# optional_failed, max_date, and coverage_pct for required tickers
# This is a sample content update reflecting your needs. Adjust as needed in actual code review.